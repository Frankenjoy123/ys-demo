<div id="page-title">
    <h1 class="page-header text-overflow">{{product.productTitle}}</h1>
</div>

<div id="page-content">
    <style type="text/css">
        .hasError {
            border-color: #a94442;
        }

        .deviceWrap {
            background-image: url(img/emulator/iphone-6-portrait.png);
            background-position: 50% 0%;
            background-repeat: no-repeat;
            display: block;
            font-family: helvetica, arial, sans-serif;
            font-size: 13px;
            height: 887px;
            line-height: 13px;
            margin-top: 50px;
            margin-bottom: 20px;
            margin-left: 0px;
            margin-right: 0px;
            padding-bottom: 117px;
            padding-left: 0px;
            padding-right: 0px;
            padding-top: 103px;
            position: relative;
            text-align: center;
            width: 100%;
        }

        .device {
            display: block;
            font-family: helvetica, arial, sans-serif;
            font-size: 13px;
            height: 667px;
            line-height: 13px;
            margin: 0 auto;
            padding-bottom: 44px;
            padding-top: 20px;
            position: relative;
            text-align: center;
            width: 375px;
        }

        .flashingTop {
            display: block;
            font-family: helvetica, arial, sans-serif;
            font-size: 13px;
            height: 20px;
            left: 0px;
            line-height: 13px;
            padding-top: 4px;
            position: absolute;
            text-align: center;
            top: 0px;
            width: 375px;
        }

        .flashingBottom {
            bottom: 0px;
            display: block;
            font-family: helvetica, arial, sans-serif;
            font-size: 13px;
            height: 44px;
            left: 0px;
            line-height: 13px;
            position: absolute;
            text-align: center;
            width: 375px;
        }

        .time {
            color: rgb(255, 255, 255);
            display: inline;
            font-family: helvetica, arial, sans-serif;
            font-size: 12px;
            height: auto;
            line-height: 13px;
            text-align: center;
            width: auto;
        }

        .iframe {
            border-bottom-color: rgb(209, 209, 209);
            border-bottom-style: solid;
            border-bottom-width: 1px;
            border-image-outset: 0px;
            border-image-repeat: stretch;
            border-image-slice: 100%;
            border-image-source: none;
            border-image-width: 1;
            border-left-color: rgb(209, 209, 209);
            border-left-style: solid;
            border-left-width: 1px;
            border-right-color: rgb(209, 209, 209);
            border-right-style: solid;
            border-right-width: 1px;
            border-top-color: rgb(209, 209, 209);
            border-top-style: solid;
            border-top-width: 1px;
            display: inline;
            font-family: helvetica, arial, sans-serif;
            font-size: 13px;
            height: 603px;
            line-height: 13px;
            margin-bottom: 0px;
            margin-left: 0px;
            margin-right: 0px;
            margin-top: 0px;
            text-align: center;
            width: 375px;
        }

        .pass-portrait-msg {
            color: #999;
            display: inline-block;
            text-align: left;
            font-size: 12px;
        }
    </style>

    <div class="panel panel-bordered-primary">
        <div class="animated slideInRight">
            <div class="panel-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="panel">
                            <div class="panel-body">
                                <!--Horizontal Form-->
                                <!--===================================================-->
                                <form name="productForm" class="form-horizontal"
                                      ng-submit="submit(productForm.$valid)" novalidate>
                                    <div class="form-group">
                                        <label class="col-md-3" for="productName">产品名</label>

                                        <div class="col-md-9 has-feedback"
                                             ng-class="{ 'has-error' : productForm.productName.$invalid && !productForm.productName.$pristine, 'has-success' : productForm.productName.$valid && !productForm.productName.$pristine}">
                                            <input type="text" placeholder="产品名" id="productName"
                                                   class="form-control" ng-model="product.productName"
                                                   name="productName"
                                                   novalidate required>
                                         <span class="glyphicon glyphicon-ok form-control-feedback"
                                               ng-show="productForm.productName.$dirty && productForm.productName.$valid"></span>
                                        <span class="glyphicon glyphicon-remove form-control-feedback"
                                              ng-show="productForm.productName.$dirty && productForm.productName.$invalid"></span>

                                            <p ng-show="productForm.productName.$invalid && !productForm.productName.$pristine"
                                               class="help-block">请输入产品名</p>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-3" for="barCode">BARCODE</label>

                                        <div class="col-md-9 has-feedback"
                                             ng-class="{ 'has-error' : productForm.barCode.$invalid && !productForm.barCode.$pristine, 'has-success' : productForm.barCode.$valid && !productForm.barCode.$pristine}">
                                            <input type="text" placeholder="BARCODE" id="barCode"
                                                   class="form-control" ng-model="product.barCode" name="barCode"
                                                   novalidate
                                                   required>
                                        <span class="glyphicon glyphicon-ok form-control-feedback"
                                              ng-show="productForm.barCode.$dirty && productForm.barCode.$valid"></span>
                                        <span class="glyphicon glyphicon-remove form-control-feedback"
                                              ng-show="productForm.barCode.$dirty && productForm.barCode.$invalid"></span>

                                            <p ng-show="productForm.barCode.$invalid && !productForm.barCode.$pristine"
                                               class="help-block">请输入产品BARCODE</p>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-3">产品码类型</label>

                                        <div class="col-md-3 text-left">
                                        <span class="btn-hover-info add-tooltip"
                                              data-placement="bottom"
                                              data-toggle="tooltip"
                                              data-original-title="二维码"
                                              onMouseOver="$(this).tooltip('show')"><i
                                                class="fa fa-qrcode fa-lg"
                                                style="color:#5cb85c"></i></span>
                                            <label class="form-checkbox form-icon form-primary form-text {{product.keyTypePubInput == 'true' ? 'active':'' }}">
                                                <input type="checkbox" ng-model="product.keyTypePubInput"
                                                       ng-true-value="true"
                                                       ng-false-value="false"/>
                                            </label>
                                        </div>
                                        <div class="col-md-3 text-center">
                                        <span class="btn-hover-info add-tooltip"
                                              data-placement="bottom" data-toggle="tooltip"
                                              data-original-title="隐藏二维码"
                                              onMouseOver="$(this).tooltip('show')"><i
                                                class="fa fa-qrcode fa-lg"></i></span>
                                            <label class="form-checkbox form-icon form-success form-text {{product.keyTypePriInput == 'true' ? 'active':'' }}">
                                                <input type="checkbox" ng-model="product.keyTypePriInput"
                                                       ng-true-value="true"
                                                       ng-false-value="false"/>
                                            </label>
                                        </div>
                                        <div class="col-md-3 text-right">
                                        <span class="btn-hover-info add-tooltip"
                                              data-placement="bottom" data-toggle="tooltip"
                                              data-original-title="RFID标签"
                                              onMouseOver="$(this).tooltip('show')"><i
                                                class="fa fa-rss fa-lg"></i></span>
                                            <label class="form-checkbox form-icon form-purple form-text {{product.keyTypeRFIDInput == 'true' ? 'active':'' }}">
                                                <input type="checkbox" ng-model="product.keyTypeRFIDInput"
                                                       ng-true-value="true"
                                                       ng-false-value="false"/>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-3" for="expireDate">产品过期时间</label>

                                        <div class="col-md-9 has-feedback"
                                             ng-class="{ 'has-error' : productForm.greaterthan.$invalid && !productForm.greaterthan.$pristine, 'has-success' : productForm.greaterthan.$valid && !productForm.greaterthan.$pristine}">
                                            <input type="number" name="greaterthan" placeholder="请输入大于1的正整数"
                                                   id="expireDate"
                                                   class="form-control" ng-model="product.expireDate" novalidate
                                                   required min="1">
                                        <span class="glyphicon glyphicon-ok form-control-feedback"
                                              ng-show="productForm.greaterthan.$dirty && productForm.greaterthan.$valid"></span>
                                        <span class="glyphicon glyphicon-remove form-control-feedback"
                                              ng-show="productForm.greaterthan.$dirty && productForm.greaterthan.$invalid"></span>

                                            <p ng-show="productForm.greaterthan.$invalid && !productForm.greaterthan.$pristine"
                                               class="help-block">请输入大于1的正整数</p>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-3" for="expireDateUnit">产品过期单位</label>

                                        <div class="col-md-9">
                                            <select id="expireDateUnit" class="form-control"
                                                    ng-model="product.expireDateUnit">
                                                <option value="{{item.key}}"
                                                        ng-selected="product.expireDateUnit == item.key"
                                                        ng-repeat="item in product.expireDateUnitValue">{{item.value}}
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-3">产品详细信息</label>

                                        <div class="col-md-9">
                                            <div ng-repeat="data in product.productInfos" class="form-inline"
                                                 style="margin-top: 5px">
                                                <ng-form name="productInfosForm">
                                                    <input type="text" ng-model="data.name" style="width:30%"
                                                           class="form-control"
                                                           name="productInfoKey" required novalidate
                                                           ng-class="{'hasError':productInfosForm.productInfoKey.$invalid && !productInfosForm.productInfoKey.$pristine}"/>
                                                    <input type="text" ng-model="data.value" style="width:69%"
                                                           class="form-control"
                                                           name="productInfoName" required novalidate
                                                           ng-class="{'hasError':productInfosForm.productInfoName.$invalid && !productInfosForm.productInfoName.$pristine}"/>
                                                </ng-form>
                                            </div>
                                            <div>
                                                <a ng-click="product.addProductInfo()"><i
                                                        class="fa fa-plus-square-o"></i></a>
                                                <a ng-click="product.subProductInfo()"><i
                                                        class="fa fa-minus-square-o"></i></a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-3">联系方式</label>

                                        <div class="col-md-9">
                                            <div style="margin-top: 5px" class="form-inline">
                                                <input type="text" ng-model="product.hotline" style="width:49%"
                                                       class="form-control" name="hotline"
                                                       placeholder="热线电话" required novalidate
                                                       ng-class="{'hasError':productForm.hotline.$invalid && !productForm.hotline.$pristine}"/>
                                                <input type="text" ng-model="product.support" style="width:50%"
                                                       class="form-control" name="email"
                                                       placeholder="技术支持URL" required novalidate
                                                       ng-class="{'hasError':productForm.email.$invalid && !productForm.email.$pristine}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-3 ">在线商城</label>

                                        <div class="col-md-offset-3 form-inline" style="margin-top: 5px"
                                             ng-repeat="data in product.productCommerce">
                                            <ng-form name="productCommerceForm">
                                                <input type="text" ng-model="data.title" style="width:49%"
                                                       name="productCommerceTitle"
                                                       class="form-control" placeholder="在线商城名" required novalidate
                                                       ng-class="{'hasError':productCommerceForm.productCommerceTitle.$invalid && !productCommerceForm.productCommerceTitle.$pristine}"/>
                                                <input type="text" ng-model="data.url" style="width:50%"
                                                       class="form-control" name="productCommerceURL"
                                                       placeholder="在线商城URL" required novalidate
                                                       ng-class="{'hasError':productCommerceForm.productCommerceURL.$invalid && !productCommerceForm.productCommerceURL.$pristine}"/>
                                            </ng-form>
                                        </div>
                                        <div class="col-md-offset-3">
                                            <a ng-click="product.addProductCommerce()"><i
                                                    class="fa fa-plus-square-o"></i></a>
                                            <a ng-click="product.subProductCommerce()"><i
                                                    class="fa fa-minus-square-o"></i></a>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-3">实体店列表</label>

                                        <div class="col-md-offset-3 form-inline" style="margin-top: 5px"
                                             ng-repeat="data in product.productAddress">
                                            <ng-form name="productAddressForm">
                                                <input type="text" ng-model="data.address" style="width:49%"
                                                       name="productAddressKey"
                                                       class="form-control" placeholder="地址" required novalidate
                                                       ng-class="{'hasError':productAddressForm.productAddressKey.$invalid && !productAddressForm.productAddressKey.$pristine}"/>
                                                <input type="text" ng-model="data.tel" style="width:50%"
                                                       class="form-control" name="productAddressValue"
                                                       placeholder="电话" required novalidate
                                                       ng-class="{'hasError':productAddressForm.productAddressValue.$invalid && !productAddressForm.productAddressValue.$pristine}"/>
                                            </ng-form>
                                        </div>
                                        <div class="col-md-offset-3">
                                            <a ng-click="product.addProAddress()"><i
                                                    class="fa fa-plus-square-o"></i></a>
                                            <a ng-click="product.subProAddress()"><i
                                                    class="fa fa-minus-square-o"></i></a>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-3" for="comment">产品备注</label>

                                        <div class="col-md-9">
                                        <textarea placeholder="产品备注" id="comment" rows="5"
                                                  class="form-control" ng-model="product.comments"></textarea>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-3">产品图片</label>

                                        <div class="col-md-9">
                                            <div class="row" ng-show="product.proPicPreview">
                                                <div class="col-md-8"><span
                                                        class="label label-info">800*400</span>

                                                    <a ng-click="product.comfirmSelect800400()"
                                                       ng-show="product.showButton800400" style="color:#5cb85c; cursor: pointer"
                                                            ><i
                                                            class="fa fa-save fa-lg"></i></a>
                                                </div>

                                                <div class="col-md-4"><span
                                                        class="label label-info">400*400</span>

                                                    <a ng-click="product.comfirmSelect400()" style="color:#5cb85c; cursor: pointer"
                                                       ng-show="product.showButton400"><i
                                                            class="fa fa-save fa-lg"></i></a></div>
                                            </div>

                                            <div class="row" ng-show="product.proPicPreview" style="margin-top: 5px">

                                                <div class="col-md-8" id="divImg800400">
                                                    <div style="width:260px;height:130px;overflow:hidden;border:1px solid #e9e9e9">
                                                        <img id="imgProductbase800400" src="{{product.imgSrc800400}}"
                                                             style="width:260px;height:130px"/>
                                                    </div>
                                                </div>

                                                <div class="col-md-4" id="divImg400">
                                                    <div style="width:130px;height:130px;overflow:hidden;border:1px solid #e9e9e9">
                                                        <img id="imgProductbase400" src="{{product.imgSrc400400}}"
                                                             style="width:130px;height:130px"/>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row" id="divImgWrap" ng-show="product.proPicPreviewUpload"
                                                 style="margin-top: 5px">
                                                <div class="col-md-12">
                                                    <span class="pass-portrait-msg" id="showRealPix"></span>

                                                    <div style="width:422px;height:211px;overflow:hidden;border:1px solid #e9e9e9;margin:auto">
                                                        <img id="imgProductbase" style="width:422px;height:211px"
                                                             src=""/>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-12">
                                                    <span class="pass-portrait-msg">支持jpg、jpeg、gif、png、bmp格式，像素>=800*400</span>
                                                </div>
                                                <div class="col-md-12">
                                             <span class="btn btn-default btn-file btn-labeled fa fa-upload">
                                        {{product.imageWord}}<input type="file" id="fileInput"
                                                                    accept=".jpg,.jpeg,.gif,.png,.bmp">
											</span>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="row">
                                            <div class="col-md-9 col-md-offset-3 text-center">

                                                <button class="btn btn-success btn-labeled fa fa-tablet" type="button"
                                                        ng-click="preview()">预览
                                                </button>
                                                &nbsp;&nbsp;
                                                <!--<button class="btn btn-info btn-labeled fa fa-save" type="button"-->
                                                <!--ng-click="save()">保存-->
                                                <!--</button>-->
                                                <!--&nbsp;&nbsp;-->
                                                <button class="btn btn-primary btn-labeled fa fa-send" type="submit"
                                                        ng-disabled="productForm.$invalid">提交
                                                </button>
                                                &nbsp;<i class="fa fa-spinner fa-lg" ng-show="product.spinnerShow"></i>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <!--===================================================-->
                            <!--End Horizontal Form-->

                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="deviceWrap">
                            <div class="device">
                                <div class="flashingTop"><span
                                        class="time">4:17 <span>PM</span></span></div>
                                <div class="flashingBottom"></div>
                                <iframe src="pages/emulator/home.html" id="iphone-6-portrait" class="iframe"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
